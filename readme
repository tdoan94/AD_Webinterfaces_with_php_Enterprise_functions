WICHTIG aus Sicherheitsgründen habe ich folgende dateien entfernt bzw nicht hochgeladen:

> **Hinweis / Note:** Dieses Repository enthält bewusst **keine Secrets**  
> (z. B. `ldap_pass.enc`, `ldap_key.php`, Zertifikate/Keys).  
> Für Tests ist eine **eigene AD/LDAPS-Umgebung** erforderlich (BYO-AD).  
> Siehe **HOWTO_ldap_tool_v3.md**.


# Key erzeugen und in ENV ablegen
export LDAP_KEY=$(openssl rand -base64 32)
sudo install -m 0750 -d /etc/ad-webif
printf "LDAP_KEY=%s\nLDAP_HOST=ldaps://dc01.example.local:636\nLDAP_BASE_DN=DC=example,DC=local\nLDAP_BIND_DN=CN=svc_ldap,OU=Service,DC=example,DC=local\n" "$LDAP_KEY" | sudo tee /etc/ad-webif/env >/dev/null
sudo chmod 640 /etc/ad-webif/env

# Passwort verschlüsseln
php tools/encrypt.php "SuperGeheimesPW" | sudo tee /etc/ad-webif/ldap_pass.enc >/dev/null
sudo chmod 640 /etc/ad-webif/ldap_pass.enc
unter linux

mit php selber 

z. B. ldap_key.sample.php:

<?php
declare(strict_types=1);

// Passwort zum Verschlüsseln
$plain_password = "Dein_Passwort";

// Verschlüsselungsschlüssel (dieser wird gebraucht, um später zu entschlüsseln)
$encryption_key = "Dein-geheimer-schluessel";

// Initialisierungsvektor (IV) für AES-256-CBC
$iv = random_bytes(16);

// Passwort verschlüsseln
$encrypted_pass = openssl_encrypt($plain_password, 'aes-256-cbc', $encryption_key, 0, $iv);

// IV + verschlüsseltes Passwort zusammen in Base64 speichern
file_put_contents('/var/www/html/ldap_pass.enc', base64_encode($iv . $encrypted_pass));

echo "Passwort verschlüsselt und gespeichert!\n";
wichtig nach der installation diese datei aus dem webroot entfernen, bzw nachdem einrichten der verschlüsselung!!




neue funktion ad benutzer deaktivieren
#session_systeme zur sicherheit das keiner php skripte ausführen kann ohne adminrechte.

version 2.1
#javascript ajax fenster für navigation lässt sich mit ESC drücken schließen 
oder außerhalb des fenster klicken

#passwort verschlüsselt nicht mehr klartext
#strukturelle anpassungen code kürzer mit includes und require_once gemacht
css code in separate dateien.

angepasst auf abfragen für locker bis zu 50.000 benutzer erweitert super schnell
mit suchfilter ergäntz



